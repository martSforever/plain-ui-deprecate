(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f991fc2"],{"2e9e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"demo-basic-table"},[i("demo-row",{attrs:{title:"操作按钮"}},[i("demo-row-item",{attrs:{width:"0"}},[i("link-button",{attrs:{label:"查看columns"},on:{click:t.checkColumns}}),i("link-button",{attrs:{label:"添加数据"},on:{click:t.push}}),i("link-button",{attrs:{label:"删除数据"},on:{click:t.pop}}),i("link-button",{attrs:{label:"查看配置信息"},on:{click:t.logContent}})],1),i("demo-row-item",{attrs:{width:"0"}},[i("link-button",{on:{click:t.enableEdit}},[t._v("开启编辑状态")]),i("link-button",{on:{click:t.disableEdit}},[t._v("关闭编辑状态")]),i("link-button",{on:{click:t.startEdit}},[t._v("开始编辑")]),i("link-button",{on:{click:t.cancelEdit}},[t._v("取消编辑")]),i("link-number",{attrs:{placeholder:"目标行索引"},model:{value:t.targetIndex,callback:function(e){t.targetIndex=e},expression:"targetIndex"}})],1),i("demo-row-item",{attrs:{width:"0"}},[i("link-button",{attrs:{label:"添加"},on:{click:t.add}}),i("link-button",{attrs:{label:"取消"},on:{click:t.cancel}}),i("link-button",{attrs:{label:"保存"},on:{click:t.save}})],1),i("demo-row-item",{attrs:{width:"0"}},[i("link-button",{attrs:{label:"状态：","box-type":"line"}}),t._l(Object.keys(t.EDIT_STATUS),function(e,a){return i("link-button",{key:a,attrs:{label:e,active:t.EDIT_STATUS[e]===t.status}})})],2),i("demo-row-item",{attrs:{width:"0"}},[i("link-radio",{attrs:{label:"批量新建"},model:{value:t.multiInsert,callback:function(e){t.multiInsert=e},expression:"multiInsert"}}),i("link-radio",{attrs:{label:"批量更新"},model:{value:t.multiUpdate,callback:function(e){t.multiUpdate=e},expression:"multiUpdate"}})],1),i("demo-row-item",{attrs:{width:"0"}},[i("link-button",{attrs:{label:"sortField:"+t.sortField,"box-type":"line"}}),i("link-button",{attrs:{label:"sortDesc:"+t.sortDesc,active:t.sortDesc}})],1),i("demo-row-item",{attrs:{width:"0"}},[i("link-radio",{attrs:{label:"多选"},model:{value:t.multiSelect,callback:function(e){t.multiSelect=e},expression:"multiSelect"}})],1)],1),i("pl-base-table",{ref:"baseTable",attrs:{data:t.data,"sort-field":"trainno","sort-desc":!0,"multi-select":t.multiSelect},on:{rowClick:t.rowClick,rowDblClick:t.rowDblClick,sortChange:t.sortChange}},[i("link-tc-column",{attrs:{title:"车次",field:"trainno",tooltip:"",dataType:"tel"}}),i("link-tc-column",{attrs:{title:"车次",field:"trainno",tooltip:"",dataType:"money"}}),i("link-tc-column",{attrs:{title:"车次",field:"trainno",tooltip:"",dataType:"cny"}}),i("link-tc-column",{attrs:{title:"车次",field:"trainno",tooltip:"",formatter:t.myFormatter}}),i("link-tc-input",{attrs:{title:"车次",field:"trainno","box-shape":"round"}})],1)],1)},n=[],l=i("96ce"),s=i("9a08"),o=i("a2b1"),r=i("f3f3"),c={name:"demo-basic-table",components:{PlBaseTableColumnGroup:r["a"],PlBaseTableColumn:o["a"],PlBaseTable:s["a"]},data:function(){return l["b"][0].trainno="13924569321",l["b"][1].trainno="G34-WIOEUOQNJKLJDKLSDJLWKL",{EDIT_STATUS:{INSERT:"insert",UPDATE:"update",NORMAL:"normal"},status:"normal",indexing:!0,multiInsert:!0,multiUpdate:!0,multiSelect:!1,sortDesc:!0,sortField:"left1",newData:[],targetIndex:null,data:l["b"]}},mounted:function(){this.baseTable=this.$refs.baseTable},methods:{checkColumns:function(){},push:function(){console.log(this.data[15]),this.data.unshift(this.data[15])},pop:function(){this.data.shift()},logContent:function(){console.log(this.baseTable.content)},enableEdit:function(){this.baseTable.enableEdit(this.targetIndex)},disableEdit:function(){this.baseTable.disableEdit(this.targetIndex)},startEdit:function(){this.baseTable.startEdit(this.targetIndex)},cancelEdit:function(){this.baseTable.cancelEdit(this.targetIndex)},sortChange:function(t){var e=t.field,i=t.desc;this.sortField=e||"created",this.sortDesc=!e||i},checkStatus:function(t){var e=t.insert,i=t.update,a=t.normal,n=t.final;switch(this.status){case this.EDIT_STATUS.NORMAL:a&&a.apply(this);break;case this.EDIT_STATUS.INSERT:e&&e.apply(this);break;case this.EDIT_STATUS.UPDATE:i&&i.apply(this);break}n&&n.apply(this)},rowClick:function(t){t.row,t.rowIndex,t.position},rowDblClick:function(t){var e=t.row,i=t.rowIndex;t.position;this.checkStatus({update:function(){this.multiUpdate&&!e.p_editing&&this.baseTable.enableEdit(i)},normal:function(){this.baseTable.enableEdit(i),this.status=this.EDIT_STATUS.UPDATE}})},add:function(){var t=this,e=function(){var e={right:1,right1:2,right2:3,left:t.$plain.$utils.uuid(),left1:5,left2:6,center:7,center1:8,center2:9};t.newData.push(e),t.data.unshift(e),t.$nextTick(function(){return t.baseTable.enableEdit(0)}),t.status=t.EDIT_STATUS.INSERT};this.checkStatus({insert:function(){this.multiInsert&&e()},normal:function(){e()}})},cancel:function(){this.checkStatus({insert:function(){this.data.splice(0,this.newData.length),this.newData.splice(0,this.newData.length)},update:function(){this.baseTable.cancelEdit()},final:function(){this.status=this.EDIT_STATUS.NORMAL}})},save:function(){var t=this.baseTable.getEdit();this.checkStatus({insert:function(){this.multiInsert?this.saveRows({editData:t}):this.saveRow({editData:t}),this.newData.splice(0,this.newData.length),this.baseTable.disableEdit()},update:function(){this.multiUpdate?this.saveRows({editData:t}):this.saveRow({editData:t}),this.baseTable.disableEdit()},final:function(){this.status=this.EDIT_STATUS.NORMAL}})},saveRow:function(t){var e=t.editData,i=e[0],a=i.row,n=i.editRow,l=this.requestSaveRow(n);this.baseTable.saveEdit([{row:a,editRow:n,newRow:l}])},saveRows:function(t){var e=t.editData,i=e.map(function(t){return t.editRow}),a=this.requestSaveRows(i);this.baseTable.saveEdit(e.map(function(t,e){var i=t.row,n=t.editRow;return{row:i,editRow:n,newRow:a[e]}}))},requestSaveRow:function(t){var e=this.$plain.$utils.deepCopy(t);return e.left1=this.$plain.$utils.uuid(),e},requestSaveRows:function(t){var e=this;return t.reduce(function(t,i){var a=e.$plain.$utils.deepCopy(i);return a.left1=e.$plain.$utils.uuid(),t.push(a),t},[])},requiredFunc:function(t){t.row,t.rowIndex;var e=t.editRow;return console.log("valid","4"==e.left),"4"==e.left2},myFormatter:function(t){return new Promise(function(e){setTimeout(function(){e("[".concat(t,"]"))},1e3)})}}},u=c,d=(i("a6b9"),i("2877")),b=Object(d["a"])(u,a,n,!1,null,null,null);b.options.__file="demo-base-table.vue";e["default"]=b.exports},"8f3f":function(t,e,i){},a6b9:function(t,e,i){"use strict";var a=i("8f3f"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-8f991fc2.e73fce86.js.map