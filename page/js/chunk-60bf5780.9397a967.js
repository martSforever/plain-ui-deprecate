(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60bf5780"],{"03e9":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f751"),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={name:"pl-markdown-parser-example",props:{html:{},js:{},css:{}},render:function render(h){var ret={template:'<div class="pl-markdown-parser-example">'.concat(this.html,"</div>")};if(this.js&&Object.assign(ret,eval("(".concat(this.js.replace("export default",""),")"))),this.css){var style=document.createElement("style");style.innerHTML=this.css,document.head.appendChild(style)}return h(this.$plain.Vue.extend(ret))}}},"11f2":function(e,t,r){"use strict";var n=r("e128"),s=r.n(n);s.a},"1e61":function(e,t,r){"use strict";var n=r("f599"),s=r.n(n);s.a},"2bca":function(e,t,r){},"30a9":function(e,t,r){},"326e":function(e,t,r){"use strict";var n=r("30a9"),s=r.n(n);s.a},"40dc":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"demo-markdown-parser"},[r("pl-markdown-parser",{attrs:{value:e.markdown}})],1)},s=[],a=(r("96cf"),r("1da1")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pl-markdown-parser"},[r("pl-scroll",{ref:"scroll",staticClass:"pl-markdown-parser-scroll",on:{scroll:e.p_scroll}},[r("div",{staticClass:"pl-markdown-parser-wrapper"},[r("div",{staticClass:"pl-markdown-parser-demo-wrapper"},e._l(e.blocks,function(t,n){return r("pl-markdown-parser-item",{key:n,ref:"parserItems",refInFor:!0,attrs:{data:t,index:n,"screen-height":e.screenHeight}})}),1),r("div",{ref:"nav",staticClass:"pl-markdown-parser-nav",style:e.navStyles},[e._l(e.blocks,function(t,n){return[t.setting.title&&!1!==t.setting.nav?[r("div",{key:n,staticClass:"pl-markdown-parser-nav-item",class:{"pl-markdown-parser-nav-item-active":e.position===n},on:{click:function(t){e.p_clickNavItem(n)}}},[r("span",[e._v(e._s(t.setting.title))])])]:e._e()]}),r("div",{staticClass:"pl-markdown-parser-nav-slider"},[r("div",{staticClass:"pl-markdown-parser-nav-slider-indicator",style:e.navIndicatorStyles},[r("pl-icon",{attrs:{icon:"pl-radio-on"}})],1)])],2)])]),r("pl-dialog",{attrs:{width:"800px",height:"400px"},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}},[r("pl-scroll",{attrs:{"scroll-x":"","scroll-y":""}},[r("pl-markdown",{attrs:{value:e.code}})],1)],1)],1)},_=[],o=r("4609"),l=o["a"],c=(r("11f2"),r("2877")),p=Object(c["a"])(l,i,_,!1,null,null,null);p.options.__file="pl-markdown-parser.vue";var d=p.exports,u={name:"demo-markdown-parser",components:{PlMarkdownParser:d},data:function(){return{markdown:null}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.p_decodeFile();case 2:this.markdown=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{p_decodeFile:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){return r.e("chunk-2d0ddfef").then(r.t.bind(null,"8485",7)).then(function(t){return e(t.default)}).catch(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},m=u,h=(r("49ca"),Object(c["a"])(m,n,s,!1,null,null,null));h.options.__file="demo-markdown-parser.vue";t["default"]=h.exports},4609:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f751"),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4__),D_6_workspace_plain_plain_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1da1"),_pl_markdown_parser_item__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("c27b"),_pl_markdown__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2f33"),_pl_markdown_parser_item_closer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("9798"),_scroll_pl_scroll__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("cb9b"),_dialog_pl_dialog__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b2da"),_icon_pl_icon__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("044f"),_mixin_component_mixin__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("9be4");__webpack_exports__["a"]={name:"pl-markdown-parser",components:{PlIcon:_icon_pl_icon__WEBPACK_IMPORTED_MODULE_11__["a"],PlDialog:_dialog_pl_dialog__WEBPACK_IMPORTED_MODULE_10__["a"],PlScroll:_scroll_pl_scroll__WEBPACK_IMPORTED_MODULE_9__["a"],PlMarkdownParserItemCloser:_pl_markdown_parser_item_closer__WEBPACK_IMPORTED_MODULE_8__["a"],PlMarkdown:_pl_markdown__WEBPACK_IMPORTED_MODULE_7__["a"],PlMarkdownParserItem:_pl_markdown_parser_item__WEBPACK_IMPORTED_MODULE_6__["a"]},mixins:[_mixin_component_mixin__WEBPACK_IMPORTED_MODULE_12__["c"]],props:{value:{}},watch:{value:{immediate:!0,handler:function(){var e=Object(D_6_workspace_plain_plain_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.p_decodeValue(t);case 2:this.blocks=e.sent,r=0;case 4:if(!(r<this.blocks.length)){e.next=12;break}if(n=this.blocks[r],!n.setting.title||!1===n.setting.nav){e.next=9;break}return this.position=r,e.abrupt("break",12);case 9:r++,e.next=4;break;case 12:console.log(this.blocks);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},data:function(){return{blocks:[],screenHeight:window.screen.height,dialogShow:!1,code:null,position:0,listenScroll:!0}},computed:{navIsExist:function(){for(var e=0;e<this.blocks.length;e++){var t=this.blocks[e];if(t.setting.title&&!1!==t.setting.nav)return!0}return!1},navStyles:function(){if(!this.p_mounted)return null;var e=this.$refs.nav.getBoundingClientRect(),t=e.left,r=e.top;return{position:"fixed",top:"".concat(r,"px"),left:"".concat(t,"px"),right:null,opacity:this.navIsExist?1:0}},navIndicatorStyles:function(){for(var e=0,t=0;t<this.blocks.length;t++){var r=this.blocks[t];if(r.setting.title&&!1!==r.setting.nav&&e++,this.position===t)break}return{top:"".concat(28*(e-1)+9,"px")}},navBoundary:function(){for(var e,t,r=0;r<this.blocks.length;r++){var n=this.blocks[r];if(n.setting.title&&!1!==n.setting.nav){e=r;break}}for(var s=this.blocks.length-1;s>=0;s--){var a=this.blocks[s];if(a.setting.title&&!1!==a.setting.nav){t=s;break}}return{start:e,end:t}}},methods:{p_decodeValue:function(e){var t=this;if(!e)return[];var r=e,n=[],s=":::block-start",a=":::block-end",i=":::block",_=r.indexOf(s),o=r.indexOf(a,_+s.length)+a.length;while(_>-1){var l=r.substring(_,o);n.push(l.replace(s,"").replace(a,"")),r=r.replace(l,i),_=r.indexOf(s),o=r.indexOf(a,_+s.length)+a.length}var c=r.split(i),p=n.reduce(function(e,t,r){return e.push({content:c[r],isBlock:!1}),e.push({content:n[r],isBlock:!0}),e},[]);return p.push({isBlock:!1,content:c[c.length-1]}),p.map(function(e){return t.p_decodeBlock(e)}).filter(function(e){return!!e.isBlock||""!==e.md.trim()})},p_decodeBlock:function p_decodeBlock(_ref){var _this2=this,content=_ref.content,isBlock=_ref.isBlock;if(!isBlock)return{md:content,setting:{},isBlock:!1};var ret={},types=[{key:"html",start:"```html",end:"```"},{key:"js",start:"```js",end:"```"},{key:"css",start:"```css",end:"```"}],_this$p_decodeBlockTy=this.p_decodeBlockType(content,{start:":::setting-start",end:":::setting-end"}),value=_this$p_decodeBlockTy.value,newContent=_this$p_decodeBlockTy.newContent;return content=newContent,ret.setting=value,ret.setting?(ret.setting=ret.setting.trim().split("\n").reduce(function(result,item){var separatorIndex=item.indexOf(":"),key=item.substring(0,separatorIndex),value=item.substring(separatorIndex+1);return result[key]=eval(value),result},{}),ret.setting.collect&&ret.setting.collect.forEach(function(e){types.push({key:e,start:":::".concat(e,"-start"),end:":::".concat(e,"-end")})})):ret.setting={},ret=Object.assign(ret,types.reduce(function(e,t){var r=t.key,n=t.start,s=t.end,a=_this2.p_decodeBlockType(content,{start:n,end:s}),i=a.value,_=a.newContent;return content=_,e[r]=i,e},{})),ret.md=content,ret.isBlock=isBlock,ret},p_decodeBlockType:function(e,t){var r=t.start,n=t.end;e=e.trim();var s,a,i=e.indexOf(r);return i>-1&&(s=e.indexOf(n,i+r.length)+n.length,a=e.substring(i,s),e=e.replace(a,""),a=a.replace(r,""),a=a.replace(n,"")),{value:a,newContent:e}},showInDialog:function(e){this.code=e,this.dialogShow=!0},p_scroll:function(e){if(this.listenScroll){this.$emit("scroll",e);for(var t=0;t<this.$refs.parserItems.length;t++){var r=this.$refs.parserItems[t];if(Math.abs(r.$el.offsetTop-e.target.scrollTop)<10){this.position=Math.max(Math.min(this.navBoundary.end,t),this.navBoundary.start);break}}}},p_clickNavItem:function(){var e=Object(D_6_workspace_plain_plain_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.listenScroll=!1,this.$refs.scroll.scrollTo({y:this.$refs.parserItems[t].$el.offsetTop}),this.position=Math.max(Math.min(this.navBoundary.end,t),this.navBoundary.start),e.next=5,this.$plain.$utils.delay(1e3);case 5:this.listenScroll=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}},"49ca":function(e,t,r){"use strict";var n=r("5b96"),s=r.n(n);s.a},"58f8":function(e,t,r){"use strict";var n=r("2bca"),s=r.n(n);s.a},"5b96":function(e,t,r){},9798:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"pl-transition-fade"}},[r("div",{staticClass:"pl-markdown-parser-item-closer",class:{"pl-markdown-parser-item-closer-fixed":e.isFixed,"pl-markdown-parser-item-closer-open":e.open},style:e.styles},[r("div",{staticClass:"pl-markdown-parser-item-closer-content"},[r("div",{staticClass:"pl-markdown-parser-item-closer-left"},[e._t("left")],2),r("div",{staticClass:"pl-markdown-parser-item-closer-inner",on:{click:function(t){return e.$emit("click",t)}}},[r("span",[e._v("显示全部")]),r("pl-icon",{attrs:{icon:e.open?"pl-double-arrow-up":"pl-double-arrow-down"}})],1),r("div",{staticClass:"pl-markdown-parser-item-closer-right"},[e._t("right")],2)])])])},s=[],a=r("044f"),i={name:"pl-markdown-parser-item-closer",components:{PlIcon:a["a"]},props:{open:{type:Boolean,default:!1},leftWidth:{},clientWidth:{},clientLeft:{},isFixed:{type:Boolean,default:!1}},computed:{styles:function(){var e={};return this.position&&(e.position=this.position),this.isFixed&&(this.clientWidth&&(e.width="".concat(this.clientWidth,"px")),this.clientLeft&&(e.left="".concat(this.clientLeft,"px"))),e}}},_=i,o=(r("d6db"),r("2877")),l=Object(o["a"])(_,n,s,!1,null,null,null);l.options.__file="pl-markdown-parser-item-closer.vue";t["a"]=l.exports},c27b:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pl-markdown-parser-item"},[e.data.isBlock?r("pl-markdown-parser-item-"+(e.data.setting.type||"demo"),{tag:"component",attrs:{data:e.data,screenHeight:e.screenHeight}}):r("pl-markdown",{attrs:{value:e.data.md}})],1)},s=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pl-markdown-parser-item-demo"},[r("div",{staticClass:"pl-markdown-parser-item-demo-example",class:e.exampleClasses,style:e.exampleStyles},[r("div",{staticClass:"pl-markdown-parser-item-demo-left",style:{width:e.leftWidth+"px"}},[r("pl-markdown-parser-example",{attrs:{html:e.data.html,js:e.data.js,css:e.data.css}}),r("div",{staticClass:"pl-markdown-parser-item-demo-left-label"},[r("div",{staticClass:"pl-markdown-parser-item-demo-left-label-title-wrapper"},[r("div",{staticClass:"pl-markdown-parser-item-demo-left-label-title-wrapper-center"},[e._v("\n                        "+e._s(e.data.setting.title)+"\n                    ")]),r("div",{staticClass:"pl-markdown-parser-item-demo-left-label-title-wrapper-right"})]),r("div",{staticClass:"pl-markdown-parser-item-demo-left-desc"},[r("pl-markdown",{attrs:{value:e.data.desc}})],1)])],1),r("div",{ref:"code",staticClass:"pl-markdown-parser-item-demo-right",style:{left:e.leftWidth+"px",width:"calc(100% - "+e.leftWidth+"px)"}},[r("pl-scroll",{attrs:{"scroll-y":!1,"scroll-x":""}},[r("pl-markdown",{attrs:{value:e.markedCode}})],1)],1)]),r("pl-markdown-parser-item-closer",{attrs:{show:e.openable,open:e.p_open,"left-width":e.leftWidth},on:{click:e.p_toggle}},[r("pl-icon",{directives:[{name:"link-tooltip",rawName:"v-link-tooltip",value:{content:"放大显示",placement:"top"},expression:"{content:'放大显示',placement:'top'}"}],attrs:{slot:"right",icon:"pl-scan",hover:""},on:{click:e.showInDialog},slot:"right"})],1),r("pl-markdown-parser-item-closer",{directives:[{name:"show",rawName:"v-show",value:e.p_showFixedCloser,expression:"p_showFixedCloser"}],attrs:{"left-width":e.leftWidth,open:"","is-fixed":"","client-left":e.p_clientLeft,"client-width":e.p_clientWidth},on:{click:function(t){return t.stopPropagation(),e.p_toggle(t)}}},[r("pl-icon",{directives:[{name:"link-tooltip",rawName:"v-link-tooltip",value:{content:"放大显示",placement:"top"},expression:"{content:'放大显示',placement:'top'}"}],attrs:{slot:"right",icon:"pl-scan",hover:""},on:{click:function(t){return t.stopPropagation(),e.showInDialog(t)}},slot:"right"})],1)],1)},i=[],_=(r("96cf"),r("1da1")),o=r("2f33"),l=r("03e9"),c=r("9798"),p=r("cb9b"),d=r("044f"),u={name:"pl-markdown-parser-item-demo",components:{PlIcon:d["a"],PlScroll:p["a"],PlMarkdownParserItemCloser:c["a"],PlMarkdownParserExample:l["a"],PlMarkdown:o["a"]},props:{data:{},screenHeight:{}},data:function(){return{parser:null,leftWidth:this.data.setting.leftWidth||300,p_open:!1,p_codeHeight:null,p_minHeight:this.data.setting.minHeight-0||140,p_showFixedCloser:!1,p_clientLeft:null,p_clientWidth:null}},mounted:function(){this.p_codeHeight=this.$refs.code.offsetHeight,this.parser=this.$plain.$dom.findComponentUpward(this,"pl-markdown-parser"),this.parser.$on("scroll",this.p_resetFixedCloser)},computed:{openable:function(){return!!this.rightHeight&&this.rightHeight>=this.p_minHeight},rightHeight:function(){return this.p_codeHeight?this.p_codeHeight+20:null},markedCode:function(){if(!this.data)return null;var e=[];return this.data.html&&e.push("``` html ".concat(this.data.html," ```")),this.data.js&&e.push("``` javascript ".concat(this.data.js," ```")),this.data.css&&e.push("``` css ".concat(this.data.css," ```")),e.join("\n")},exampleStyles:function(){var e,t={};return this.rightHeight?(this.rightHeight<this.p_minHeight?(this.p_open=!0,e=this.p_minHeight):e=this.p_open?this.rightHeight+40:this.p_minHeight,t.height=e+"px",t):t},exampleClasses:function(){return{"pl-markdown-parser-item-demo-example-openable":this.openable,"pl-markdown-parser-item-demo-example-open":this.p_open}}},methods:{p_resetFixedCloser:function(){var e=document.body.clientHeight,t=this.$el,r=t.clientHeight,n=t.clientWidth,s=this.$el.getBoundingClientRect(),a=s.top,i=s.left;this.p_clientWidth=n,this.p_clientLeft=i,e>a&&r+a>e&&this.p_open?this.p_showFixedCloser=!0:this.p_showFixedCloser=!1},p_toggle:function(){var e=Object(_["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.p_open=!this.p_open,e.next=3,this.$plain.$utils.delay(500);case 3:this.parser.$emit("scroll");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showInDialog:function(){this.parser.showInDialog(this.markedCode)}}},m=u,h=(r("58f8"),r("2877")),f=Object(h["a"])(m,a,i,!1,null,null,null);f.options.__file="pl-markdown-parser-item-demo.vue";var k=f.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pl-markdown-parser-item-table"},[r("pl-markdown",{attrs:{value:e.data.md}})],1)},v=[],g={name:"pl-markdown-parser-item-table",components:{PlMarkdown:o["a"]},props:{data:{}}},b=g,E=(r("1e61"),Object(h["a"])(b,w,v,!1,null,null,null));E.options.__file="pl-markdown-parser-item-table.vue";var P=E.exports,O={name:"pl-markdown-parser-item",components:{PlMarkdownParserItemTable:P,PlMarkdown:o["a"],PlMarkdownParserItemDemo:k},props:{data:{},index:{},screenHeight:{}}},x=O,M=(r("326e"),Object(h["a"])(x,n,s,!1,null,null,null));M.options.__file="pl-markdown-parser-item.vue";t["a"]=M.exports},d6db:function(e,t,r){"use strict";var n=r("e8d0"),s=r.n(n);s.a},e128:function(e,t,r){},e8d0:function(e,t,r){},f599:function(e,t,r){}}]);
//# sourceMappingURL=chunk-60bf5780.9397a967.js.map